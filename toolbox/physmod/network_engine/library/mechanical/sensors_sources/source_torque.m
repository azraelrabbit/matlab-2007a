function source_torque(root, schema)
    % 1 18
    % 2 18
    % 3 18
    % 4 18
    % 5 18
    % 6 18
    % 7 18
    % 8 18
    % 9 18
    % 10 18
    % 11 18
    % 12 18
    % 13 18
    % 14 18
    % 15 18
    % 16 18
    % 17 18
    schema.descriptor = 'Ideal Torque Source';
    % 19 21
    % 20 21
    S = schema.input('S');
    S.description = 'Control signal';
    S.location = {'Bottom';[0.25]};
    S.type = ne_type('real', [1.0 1.0], 'N*m');
    % 25 26
    C = schema.terminal('C');
    C.description = 'Source case';
    C.domain = root.fl.mechanical.rotational.rotational;
    C.location = {'Bottom';[0.75]};
    % 30 31
    R = schema.terminal('R');
    R.description = 'Source rod';
    R.domain = root.fl.mechanical.rotational.rotational;
    R.location = {'Top';[0.5]};
    % 35 39
    % 36 39
    % 37 39
    % 38 39
    var_int_f = schema.local_variable('torque');
    var_int_f.description = 'Torque (N*m)';
    % 41 42
    var_int_v = schema.local_variable('rel_velocity');
    var_int_v.description = 'Relative velocity (rad/s)';
    % 44 45
    var_int_p = schema.local_variable('power');
    var_int_p.description = 'Power generated by the source (W)';
    % 47 48
    schema.setup(@setup);
    % 49 50
end % function
function setup(root, source_trq)
    % 52 54
    % 53 54
    source_trq.branch_across('w', source_trq.C.w, source_trq.R.w);
    source_trq.branch_through('t', source_trq.C.t, source_trq.R.t);
    % 56 57
    source_trq.equation(@equation);
end % function
function e = equation(sys, source_trq)
    % 60 62
    % 61 62
    e = sys.equation;
    % 63 64
    torque = source_trq.S;
    rel_velocity = source_trq.w;
    power = mtimes(rel_velocity, torque);
    % 67 68
    e = minus(torque, source_trq.t);
end % function
